<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="ie=edge" http-equiv="X-UA-Compatible">
    <title>Mayo - for Strava</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css" rel="stylesheet">
    <link href="./assets/css/style.css" rel="stylesheet">
    <link href="./assets/img/icon.png" rel="icon">

    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>
    <script src="https://unpkg.com/@mapbox/polyline"></script>
    <script src="./assets/js/strava.js"></script>
    <script src="./assets/js/map.js"></script>
    <script defer src="./assets/js/app.js"></script>
</head>
<body>
<nav class="navbar p-3 fixed-top bg-light shadow-sm">
    <div class="container-fluid d-flex justify-content-between align-items-center">
        <div class="d-flex align-items-center">
            <span class="navbar-brand user-select-none">Mayo - for Strava</span>
            <div class="btn-group">
                <button class="btn btn-success" id="profileBtn">Profile</button>
                <button class="btn btn-outline-secondary" id="activitiesBtn">Activities</button>
            </div>
        </div>
        <div class="d-flex align-items-center gap-3">
            <button class="btn btn-success" id="loadActivitiesBtn">Load activities</button>
            <button class="btn btn-primary" id="loginBtn">Login to Strava</button>
        </div>
    </div>
</nav>
<p class="p-4" id="statusText">You're not logged in</p>
<section class="p-5" id="profileSection">
    <div class="row g-3">
        <div class="col-12 col-md-6">
            <div class="card shadow-sm p-3">
                <div class="d-flex justify-content-between align-items-start gap-3 mb-3">
                    <div>
                        <h3 class="mb-1" id="athleteName"></h3>
                        <p id="athleteLocation"></p>
                    </div>
                    <img alt="Athlete photo" id="athleteProfile" src="">
                </div>
                <dl>
                    <dt>Bio:</dt>
                    <dd class="mb-2" id="athleteBio"></dd>
                    <dt>Gender:</dt>
                    <dd class="mb-2" id="athleteSex"></dd>
                    <dt>Weight:</dt>
                    <dd class="mb-2" id="athleteWeight"></dd>
                    <dt>Member Since:</dt>
                    <dd class="mb-2" id="athleteCreated"></dd>
                    <dt>Last Updated:</dt>
                    <dd id="athleteUpdated"></dd>
                </dl>
            </div>
        </div>
        <div class="col-12 col-md-6">
            <div class="card shadow-sm">
                <div class="heatmap" id="profileMap"></div>
            </div>
        </div>
    </div>
</section>
<section class="p-5" id="activitiesSection" style="display: none">
    <div class="row g-3">
        <div class="col-12 col-md-6">
            <div class="card shadow-sm p-3">
                <h4 class="mb-3">Filter activities</h4>
                <div class="row g-2 mb-3">
                    <div class="col-sm-6">
                        <label class="form-label">Activity Type</label>
                        <div id="activityTypeFilters"></div>
                    </div>
                    <div class="col-sm-6">
                        <label class="form-label">Date From</label>
                        <input class="form-control form-control-sm" id="dateRangeFromFilter" type="date">
                        <label class="form-label">Date To</label>
                        <input class="form-control form-control-sm" id="dateRangeToFilter" type="date">
                    </div>
                </div>
                <div class="row g-2 mb-3">
                    <div class="col-sm-6">
                        <label class="form-label">Min Distance (km)</label>
                        <input class="form-control form-control-sm" id="minDistanceFilter" min="0" type="number"
                               value="0">
                    </div>
                    <div class="col-sm-6">
                        <label class="form-label">Max Distance (km)</label>
                        <input class="form-control form-control-sm" id="maxDistanceFilter" min="0" type="number">
                    </div>
                </div>
                <div class="d-flex gap-2 mb-3">
                    <button class="btn btn-sm btn-outline-primary" id="resetFiltersBtn">Reset</button>
                    <button class="btn btn-sm btn-outline-danger" id="unselectAllBtn">Unselect</button>
                </div>
                <div class="border overflow-y-auto">
                    <table class="table table-sm table-hover">
                        <thead class="sticky-top bg-light">
                        <tr>
                            <th></th>
                            <th>Activity</th>
                            <th>Type</th>
                            <th>Date</th>
                            <th>Distance (km)</th>
                        </tr>
                        </thead>
                        <tbody id="activitiesTableBody"></tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="col-12 col-md-6">
            <div class="card shadow-sm">
                <div class="heatmap" id="activitiesMap"></div>
            </div>
        </div>
    </div>
</section>
</body>
</html>
